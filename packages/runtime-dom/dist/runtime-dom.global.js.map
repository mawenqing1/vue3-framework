{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/index.ts", "../../runtime-core/src/createVNode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/renderer.ts", "../src/nodeOps.ts", "../src/patch-prop/patchClass.ts", "../src/patch-prop/patchStyle.ts", "../src/patch-prop/patchEvent.ts", "../src/patch-prop/patchAttr.ts", "../src/patchProp.ts"],
  "sourcesContent": ["import { createRenderer } from \"@vue/runtime-core\";\nimport { nodeOps } from \"./nodeOps\";\nimport { patchProp } from \"./patchProp\";\n\nconst renderOptions = {patchProp, ...nodeOps}\n\nexport function render(vnode, container) {\n    let { render } = createRenderer(renderOptions)\n\n    return render(vnode, container)\n}\n\nexport * from '@vue/runtime-core'", "export const isObj = (value) => {\n    return typeof value === 'object' && value !== null\n}\nexport const isFunction = (value) => {\n    return typeof value === 'function'\n}\nexport const isString = (value) => {\n    return typeof value === 'string'\n}\nexport const isArray = Array.isArray;\n\nexport const isNumber = (value) => {\n    return typeof value === 'number'\n}", "import { isArray, isString } from \"@vue/shared\";\n\nexport const Text = Symbol('Text');\n\nexport function isVNode(value) {\n    return value.__v_isVNode;\n}\n\nexport function createVNode(type, props = null, children = null) {\n\n    let shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0;\n    \n    const vnode = {\n        __v_isVNode: true,\n        type,\n        props,\n        children,\n        key: props && props.key,\n        el: null,\n        shapeFlag\n    }\n\n    if(children) {\n        let temp = 0;\n        if(isArray(children)) {\n            temp = ShapeFlags.ARRAY_CHILDREN;\n        } else {\n            children = String(children);\n            temp = ShapeFlags.TEXT_CHILDREN;\n        }\n        vnode.shapeFlag |= temp;\n    }\n    \n    return vnode;\n}\n\nexport const enum ShapeFlags {\n    ELEMENT = 1,\n    FUNCTIONAL_COMPONENT = 1 << 1,\n    STATEFUL_COMPONENT = 1 << 2,\n    TEXT_CHILDREN = 1 << 3,\n    ARRAY_CHILDREN = 1 << 4,\n    SLOTS_CHILDREN = 1 << 5,\n    TELEPORT = 1 << 6,\n    SUSPENSE = 1 << 7,\n    COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8,\n    COMPONENT_KEPT_ALIVE = 1 << 9,\n    COMPONENT = ShapeFlags.STATEFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT\n}", "import { isArray, isObj } from \"@vue/shared\";\nimport { isVNode, createVNode } from \"./createVNode\";\n\nexport function h(type, propsOrChildren, children) {\n    const l = arguments.length;\n\n    if(l === 2) {\n        if(isObj(propsOrChildren) && !isArray(propsOrChildren)) {\n            if(isVNode(propsOrChildren)) {\n                return createVNode(type, null, [propsOrChildren])\n            }\n            return createVNode(type, propsOrChildren)\n        } else {\n            return createVNode(type, null, propsOrChildren)\n        }\n\n    } else {\n        if(l === 3 && isVNode(children)) {\n            children = [children]\n        } else if(l > 3) {\n            children = Array.prototype.slice.call(arguments, 2)\n        }\n        return createVNode(type, propsOrChildren, children)\n    }\n}", "import { isNumber, isString } from \"@vue/shared\";\nimport { ShapeFlags, Text, createVNode } from \"./createVNode\";\n\nexport function createRenderer(options: any) {\n\n    let {\n        createElement: hostCreateElement,\n        createTextNode: hostCreateTextNode,\n        insert: hostInsert,\n        remove: hostRemove,\n        querySelector: hostQuerySelector,\n        parentNode: hostParentNode,\n        //\u83B7\u53D6\u5144\u5F1F\u8282\u70B9\n        nextSibling: hostNextSibling,\n        setText: hostSetText,\n        setElementText: hostSetElementText,\n        patchProp: hostPatchProp,\n    } = options;\n\n    function normalize(children, i) {\n        if(isNumber(children[i]) || isString(children[i])) {\n            children[i] = createVNode(Text, null, children[i])\n        }\n        return children[i]\n    }\n\n    function mountChildren(children, container) {\n\n        for(let i = 0; i < children.length; i++) {\n            let child = normalize(children, i);\n            patch(null, child, container)\n        }\n    }\n\n    function mountElement(vnode, container) {\n        let { type, props, children, shapeFlag } = vnode;\n        let el = vnode.el = hostCreateElement(type);\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            hostSetElementText(el, children)\n        }\n        if(shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            mountChildren(children, el);\n        }\n\n        hostInsert(el, container);\n    }\n\n    function processText(n1, n2, container) {\n        if(n1 === null) {\n            hostInsert(n2.el = hostCreateTextNode(n2.children, container));\n        }\n    }\n\n    function processElement(n1, n2, container) {\n        if(n1 == null) {\n            mountElement(n2, container);\n        }\n    }\n\n    function patch(n1, n2, container) {\n\n        const { type, shapeFlag } = n2;\n\n        switch(type) {\n            case Text:\n                processText(n1, n2, container);\n                break;\n            default: \n                if(shapeFlag & ShapeFlags.ELEMENT) {\n                    processElement(n1, n2, container);\n                }\n        }\n    }\n\n    function render(vnode, container) {\n        \n        if(vnode == null) {\n\n        } else {\n            patch(container._vnode || null, vnode, container)\n        }\n\n        container._vnode = vnode;\n        \n    }\n\n    return {\n        render\n    }\n}", "export const nodeOps = {\n    createElement(tagName) {\n        return document.createElement(tagName);\n    },\n    createTextNode(text) {\n        return document.createTextNode(text);\n    },\n    insert(element, parent, anchor = null) {\n        parent.insertBefore(element, anchor);\n    },\n    remove(child) {\n        const parent = child.parentNode;\n        if (parent) {\n            parent.removeChild(child);\n        }\n    },\n    querySelector(selectors) {\n        return document.querySelector(selectors);\n    },\n    parentNode(node) {\n        return node.parentNode;\n    },\n    //\u83B7\u53D6\u5144\u5F1F\u8282\u70B9\n    nextSibling(node) {\n        return node.nextSibling;\n    },\n    setText(element, text) {\n        element.nodeValue = text;\n    },\n    setElementText(element, text) {\n        element.textContent = text;\n    }\n}", "export function patchClass(el, nextValue) {\n    if(nextValue == null) {\n        el.removeAttribute('class');\n    } else {\n        el.className = nextValue\n    }\n}", "export function patchStyle(el, preValue, nextValue) {\n    const style = el.style;\n    for(let key in nextValue) {\n        style[key] = nextValue[key];\n    }\n\n    if(preValue) {\n        for(let key in preValue) {\n            if(nextValue[key] == null) {\n                style[key] = null;\n            }\n        }\n    }\n}", "function createInvoker(fn) {\n    const invoker = () => {\n        invoker.value()\n    }\n    invoker.value = fn\n    return invoker\n}\n\nexport function patchEvent(el, eventName, nextValue) {\n    const invokers = el._vei || (el._vei = {});\n    const exitingInvoker = invokers[eventName];\n    if(exitingInvoker && nextValue) {\n        exitingInvoker.value = nextValue;\n    } else {\n        const eName = eventName.slice(2).toLowerCase();\n        if(nextValue) {\n            const invoker = createInvoker(nextValue);\n            invokers[eventName] = invoker;\n            el.addEventListener(eName, invoker);\n        } else if(exitingInvoker) {\n            el.removeEventListener(eName, exitingInvoker);\n            invokers[eventName] = null;\n        }\n    }\n}", "export function patchAttr(el, key, nextValue) {\n    if(nextValue == null) {\n        el.removeAttribute(key);\n    } else {\n        el.setAttribute(key, nextValue);\n    }\n}", "import { patchClass } from \"./patch-prop/patchClass\"\nimport { patchStyle } from \"./patch-prop/patchStyle\"\nimport { patchEvent } from \"./patch-prop/patchEvent\"\nimport { patchAttr } from \"./patch-prop/patchAttr\"\n\nexport const patchProp = (el, key, preValue, nextValue) => {\n    if(key === 'class') {\n        patchClass(el, nextValue)\n    } else if(key === 'style') {\n        patchStyle(el, preValue, nextValue)\n    } else if(/on[^a-z]/.test(key)) {\n        patchEvent(el, key, nextValue)\n    } else {\n        patchAttr(el, key, nextValue)\n    }\n}"],
  "mappings": "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",
  "names": ["ShapeFlags", "render", "render"]
}
